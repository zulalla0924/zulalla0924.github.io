import{b as it,g as ot,d as kt,e as Lt,c as gt,l as Ot}from"./auth.xl3w8pTy.js";const at=Object.keys;function Et(t){return typeof t=="boolean"}function At(t){return t&&typeof t.nodeType=="number"}function ct(t){return typeof t=="string"}function yt(t){return typeof t=="number"}function R(t){return typeof t=="object"?t!==null:Z(t)}function Z(t){return typeof t=="function"}function Yt(t){return!!(t&&t.isComponent)}function _t(t){return R(t)&&typeof t.length=="number"&&typeof t.nodeType!="number"}function ft(t,e){if(t)for(const r of at(t))e(t[r],r)}function It(){return Object.seal({current:null})}function jt(t){return R(t)&&"current"in t}const dt={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0};function Nt(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}const Rt=["Webkit","ms","Moz","O"];at(dt).forEach(t=>{Rt.forEach(e=>{dt[Nt(e,t)]=0})});const Ht=Symbol.for("jsx-dom:type");var xt=function(t){return t.ShadowRoot="ShadowRoot",t}(xt||{});function Ft(t){return t!=null&&t[Ht]===xt.ShadowRoot}const Ut="http://www.w3.org/2000/svg",Bt="http://www.w3.org/1999/xlink",Wt="http://www.w3.org/XML/1998/namespace";function wt(t){return!Et(t)&&t!=null}function st(t){return Array.isArray(t)?t.map(st).filter(Boolean).join(" "):R(t)?Symbol.iterator in t?st(Array.from(t)):at(t).filter(e=>t[e]).join(" "):wt(t)?""+t:""}const Pt={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},Gt=/^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;function zt(t){const e=document.createDocumentFragment();return ut(t.children,e),e}function Vt(t,e,r){e={...e,children:r};const n=new t(e),c=n.render();return"ref"in e&&ht(e.ref,n),c}function qt(t,e){let{children:r,...n}=e;!n.namespaceURI&&Pt[t]===0&&(n={...n,namespaceURI:Ut});let c;if(ct(t)){if(c=n.namespaceURI?document.createElementNS(n.namespaceURI,t):document.createElement(t),Zt(n,c),ut(r,c),c instanceof window.HTMLSelectElement&&n.value!=null)if(n.multiple===!0&&Array.isArray(n.value)){const f=n.value.map(h=>String(h));c.querySelectorAll("option").forEach(h=>h.selected=f.includes(h.value))}else c.value=n.value;ht(n.ref,c)}else if(Z(t))R(t.defaultProps)&&(n={...t.defaultProps,...n}),c=Yt(t)?Vt(t,n,r):t({...n,children:r});else throw new TypeError(`Invalid JSX element type: ${t}`);return c}function u(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),c=2;c<r;c++)n[c-2]=arguments[c];return(ct(e)||Array.isArray(e))&&(n.unshift(e),e={}),e=e||{},e.children!=null&&!n.length&&({children:n,...e}=e),qt(t,{...e,children:n},e.key)}function ht(t,e){jt(t)?t.current=e:Z(t)&&t(e)}function ut(t,e){if(_t(t))Jt(t,e);else if(ct(t)||yt(t))lt(document.createTextNode(t),e);else if(t===null)lt(document.createComment(""),e);else if(At(t))lt(t,e);else if(Ft(t)){const r=e.attachShadow(t.attr);ut(t.children,r),ht(t.ref,r)}}function Jt(t,e){for(const r of[...t])ut(r,e);return e}function lt(t,e){e instanceof window.HTMLTemplateElement?e.content.appendChild(t):e.appendChild(t)}function nt(t,e){return t.replace(/[A-Z]/g,r=>e+r.toLowerCase())}function $t(t,e){e==null||e===!1||(Array.isArray(e)?e.forEach(r=>$t(t,r)):ct(e)?t.setAttribute("style",e):R(e)&&ft(e,(r,n)=>{n.indexOf("-")===0?t.style.setProperty(n,r):yt(r)&&dt[n]!==0?t.style[n]=r+"px":t.style[n]=r}))}function Xt(t,e,r){switch(t){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":bt(r,Bt,nt(t,":"),e);return;case"xmlnsXlink":B(r,nt(t,":"),e);return;case"xmlBase":case"xmlLang":case"xmlSpace":bt(r,Wt,nt(t,":"),e);return}switch(t){case"htmlFor":B(r,"for",e);return;case"dataset":ft(e,(n,c)=>{n!=null&&(r.dataset[c]=n)});return;case"innerHTML":case"innerText":case"textContent":wt(e)&&(r[t]=e);return;case"dangerouslySetInnerHTML":R(e)&&(r.innerHTML=e.__html);return;case"value":if(e==null||r instanceof window.HTMLSelectElement)return;if(r instanceof window.HTMLTextAreaElement){r.value=e;return}break;case"spellCheck":r.spellcheck=e;return;case"class":case"className":Z(e)?e(r):B(r,"class",st(e));return;case"ref":case"namespaceURI":return;case"style":$t(r,e);return;case"on":case"onCapture":ft(e,(n,c)=>{r.addEventListener(c,n,t==="onCapture")});return}if(Z(e)){if(t[0]==="o"&&t[1]==="n"){let n=t.toLowerCase();const c=n.endsWith("capture");if(n==="ondoubleclick"?n="ondblclick":c&&n==="ondoubleclickcapture"&&(n="ondblclickcapture"),!c&&r[n]===null)r[n]=e;else if(c)r.addEventListener(n.substring(2,n.length-7),e,!0);else{let f;n in window?f=n.substring(2):f=n[2]+t.slice(3),r.addEventListener(f,e)}}}else R(e)?r[t]=e:e===!0?B(r,t,""):e!==!1&&e!=null&&(r instanceof SVGElement&&!Gt.test(t)?B(r,nt(t,"-"),e):B(r,t,e))}function B(t,e,r){t.setAttribute(e,r)}function bt(t,e,r,n){t.setAttributeNS(e,r,n)}function Zt(t,e){for(const r of at(t))Xt(r,t[r],e);return e}const Kt=(t,e=!1)=>{const r=[],n=f=>{e===!1?r[0]=f:r.includes(f)||r.push(f),c(t)},c=f=>{r.forEach(h=>{const D=typeof f=="function"?f(h):f;Object.entries({...t,...D}).forEach(([M,m])=>{if(m===!1){h.removeAttribute(M);return}h?.setAttribute(M,m)})})};return[n,c]},Qt=t=>{let e;return[()=>e||(e=t(),e),()=>{e=void 0}]},J=(...t)=>st(t.filter(e=>e!==!1||e!==void 0)),Mt=t=>{const[e,r]=Qt(()=>u("div",{class:"fixed z-[100] top-0 left-0 w-full h-full flex items-center justify-center"},u("div",{class:"absolute top-0 left-0 w-full h-full bg-black bg-opacity-60",onClick:c}),u("div",{class:"min-w-[200px] min-h-[100px] z-[2] rounded bg-bg flex flex-col m-2"},t()))),n=()=>{const h=e();document.body.appendChild(h)},c=()=>{const h=e();h.parentElement?.removeChild(h)};return{show:n,hide:c,close:()=>{c(),r()}}};let rt;const te=async()=>rt||(rt=await(await fetch(`${location.origin}/api/post/list`)).json(),rt);var vt={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){var r=1e3,n=6e4,c=36e5,f="millisecond",h="second",D="minute",M="hour",m="day",v="week",x="month",H="quarter",O="year",E="date",Y="Invalid Date",W=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var o=["th","st","nd","rd"],s=l%100;return"["+l+(o[(s-20)%10]||o[s]||o[0])+"]"}},z=function(l,o,s){var a=String(l);return!a||a.length>=o?l:""+Array(o+1-a.length).join(s)+l},_={s:z,z:function(l){var o=-l.utcOffset(),s=Math.abs(o),a=Math.floor(s/60),i=s%60;return(o<=0?"+":"-")+z(a,2,"0")+":"+z(i,2,"0")},m:function l(o,s){if(o.date()<s.date())return-l(s,o);var a=12*(s.year()-o.year())+(s.month()-o.month()),i=o.clone().add(a,x),d=s-i<0,p=o.clone().add(a+(d?-1:1),x);return+(-(a+(s-i)/(d?i-p:p-i))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M:x,y:O,w:v,d:m,D:E,h:M,m:D,s:h,ms:f,Q:H}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},T="en",C={};C[T]=G;var F="$isDayjsObject",I=function(l){return l instanceof tt||!(!l||!l[F])},Q=function l(o,s,a){var i;if(!o)return T;if(typeof o=="string"){var d=o.toLowerCase();C[d]&&(i=d),s&&(C[d]=s,i=d);var p=o.split("-");if(!i&&p.length>1)return l(p[0])}else{var b=o.name;C[b]=o,i=b}return!a&&i&&(T=i),i||!a&&T},w=function(l,o){if(I(l))return l.clone();var s=typeof o=="object"?o:{};return s.date=l,s.args=arguments,new tt(s)},g=_;g.l=Q,g.i=I,g.w=function(l,o){return w(l,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var tt=function(){function l(s){this.$L=Q(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[F]=!0}var o=l.prototype;return o.parse=function(s){this.$d=function(a){var i=a.date,d=a.utc;if(i===null)return new Date(NaN);if(g.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var p=i.match(W);if(p){var b=p[2]-1||0,y=(p[7]||"0").substring(0,3);return d?new Date(Date.UTC(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,y)):new Date(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,y)}}return new Date(i)}(s),this.init()},o.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},o.$utils=function(){return g},o.isValid=function(){return this.$d.toString()!==Y},o.isSame=function(s,a){var i=w(s);return this.startOf(a)<=i&&i<=this.endOf(a)},o.isAfter=function(s,a){return w(s)<this.startOf(a)},o.isBefore=function(s,a){return this.endOf(a)<w(s)},o.$g=function(s,a,i){return g.u(s)?this[a]:this.set(i,s)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(s,a){var i=this,d=!!g.u(a)||a,p=g.p(s),b=function(N,k){var A=g.w(i.$u?Date.UTC(i.$y,k,N):new Date(i.$y,k,N),i);return d?A:A.endOf(m)},y=function(N,k){return g.w(i.toDate()[N].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(k)),i)},$=this.$W,S=this.$M,L=this.$D,U="set"+(this.$u?"UTC":"");switch(p){case O:return d?b(1,0):b(31,11);case x:return d?b(1,S):b(0,S+1);case v:var j=this.$locale().weekStart||0,V=($<j?$+7:$)-j;return b(d?L-V:L+(6-V),S);case m:case E:return y(U+"Hours",0);case M:return y(U+"Minutes",1);case D:return y(U+"Seconds",2);case h:return y(U+"Milliseconds",3);default:return this.clone()}},o.endOf=function(s){return this.startOf(s,!1)},o.$set=function(s,a){var i,d=g.p(s),p="set"+(this.$u?"UTC":""),b=(i={},i[m]=p+"Date",i[E]=p+"Date",i[x]=p+"Month",i[O]=p+"FullYear",i[M]=p+"Hours",i[D]=p+"Minutes",i[h]=p+"Seconds",i[f]=p+"Milliseconds",i)[d],y=d===m?this.$D+(a-this.$W):a;if(d===x||d===O){var $=this.clone().set(E,1);$.$d[b](y),$.init(),this.$d=$.set(E,Math.min(this.$D,$.daysInMonth())).$d}else b&&this.$d[b](y);return this.init(),this},o.set=function(s,a){return this.clone().$set(s,a)},o.get=function(s){return this[g.p(s)]()},o.add=function(s,a){var i,d=this;s=Number(s);var p=g.p(a),b=function(S){var L=w(d);return g.w(L.date(L.date()+Math.round(S*s)),d)};if(p===x)return this.set(x,this.$M+s);if(p===O)return this.set(O,this.$y+s);if(p===m)return b(1);if(p===v)return b(7);var y=(i={},i[D]=n,i[M]=c,i[h]=r,i)[p]||1,$=this.$d.getTime()+s*y;return g.w($,this)},o.subtract=function(s,a){return this.add(-1*s,a)},o.format=function(s){var a=this,i=this.$locale();if(!this.isValid())return i.invalidDate||Y;var d=s||"YYYY-MM-DDTHH:mm:ssZ",p=g.z(this),b=this.$H,y=this.$m,$=this.$M,S=i.weekdays,L=i.months,U=i.meridiem,j=function(k,A,q,et){return k&&(k[A]||k(a,d))||q[A].slice(0,et)},V=function(k){return g.s(b%12||12,k,"0")},N=U||function(k,A,q){var et=k<12?"AM":"PM";return q?et.toLowerCase():et};return d.replace(P,function(k,A){return A||function(q){switch(q){case"YY":return String(a.$y).slice(-2);case"YYYY":return g.s(a.$y,4,"0");case"M":return $+1;case"MM":return g.s($+1,2,"0");case"MMM":return j(i.monthsShort,$,L,3);case"MMMM":return j(L,$);case"D":return a.$D;case"DD":return g.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return j(i.weekdaysMin,a.$W,S,2);case"ddd":return j(i.weekdaysShort,a.$W,S,3);case"dddd":return S[a.$W];case"H":return String(b);case"HH":return g.s(b,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return N(b,y,!0);case"A":return N(b,y,!1);case"m":return String(y);case"mm":return g.s(y,2,"0");case"s":return String(a.$s);case"ss":return g.s(a.$s,2,"0");case"SSS":return g.s(a.$ms,3,"0");case"Z":return p}return null}(k)||p.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(s,a,i){var d,p=this,b=g.p(a),y=w(s),$=(y.utcOffset()-this.utcOffset())*n,S=this-y,L=function(){return g.m(p,y)};switch(b){case O:d=L()/12;break;case x:d=L();break;case H:d=L()/3;break;case v:d=(S-$)/6048e5;break;case m:d=(S-$)/864e5;break;case M:d=S/c;break;case D:d=S/n;break;case h:d=S/r;break;default:d=S}return i?d:g.a(d)},o.daysInMonth=function(){return this.endOf(x).$D},o.$locale=function(){return C[this.$L]},o.locale=function(s,a){if(!s)return this.$L;var i=this.clone(),d=Q(s,a,!0);return d&&(i.$L=d),i},o.clone=function(){return g.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},l}(),mt=tt.prototype;return w.prototype=mt,[["$ms",f],["$s",h],["$m",D],["$H",M],["$W",m],["$M",x],["$y",O],["$D",E]].forEach(function(l){mt[l[1]]=function(o){return this.$g(o,l[0],l[1])}}),w.extend=function(l,o){return l.$i||(l(o,tt,w),l.$i=!0),w},w.locale=Q,w.isDayjs=I,w.unix=function(l){return w(1e3*l)},w.en=C[T],w.Ls=C,w.p={},w})})(vt);var ee=vt.exports;const K=ot(ee);var St={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){return function(r,n,c){r=r||{};var f=n.prototype,h={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function D(m,v,x,H){return f.fromToBase(m,v,x,H)}c.en.relativeTime=h,f.fromToBase=function(m,v,x,H,O){for(var E,Y,W,P=x.$locale().relativeTime||h,G=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],z=G.length,_=0;_<z;_+=1){var T=G[_];T.d&&(E=H?c(m).diff(x,T.d,!0):x.diff(m,T.d,!0));var C=(r.rounding||Math.round)(Math.abs(E));if(W=E>0,C<=T.r||!T.r){C<=1&&_>0&&(T=G[_-1]);var F=P[T.l];O&&(C=O(""+C)),Y=typeof F=="string"?F.replace("%d",C):F(C,v,T.l,W);break}}if(v)return Y;var I=W?P.future:P.past;return typeof I=="function"?I(Y):I.replace("%s",Y)},f.to=function(m,v){return D(m,v,this,!0)},f.from=function(m,v){return D(m,v,this)};var M=function(m){return m.$u?c.utc():c()};f.toNow=function(m){return this.to(M(this),m)},f.fromNow=function(m){return this.from(M(this),m)}}})})(St);var ne=St.exports;const re=ot(ne);var Dt={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){return function(r,n,c){n.prototype.isToday=function(){var f="YYYY-MM-DD",h=c();return this.format(f)===h.format(f)}}})})(Dt);var se=Dt.exports;const ie=ot(se);var Tt={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){return function(r,n,c){n.prototype.isYesterday=function(){var f="YYYY-MM-DD",h=c().subtract(1,"day");return this.format(f)===h.format(f)}}})})(Tt);var oe=Tt.exports;const ae=ot(oe);K.extend(re);K.extend(ie);K.extend(ae);function ce(t){const e=K(t),r=K();if(e.isToday())return"Today";if(e.isYesterday())return"Yesterday";const n=r.diff(e,"day");return n<7?`${n} Days ago`:r.year()===e.year()?e.format("MM/DD"):e.format("YYYY/MM/DD")}const ue="_tabset_selm3_1",X={tabset:ue,"tab-panel":"_tab-panel_selm3_1","tab-panels":"_tab-panels_selm3_4","tab-labels":"_tab-labels_selm3_13"},le=()=>{const e=Mt(()=>{const[c,f]=Kt({disabled:!0,"data-loading":!1}),h=It(),D=()=>{f({disabled:!h.current?.value.length})},M=async()=>{const v=h.current?.value;if(v){f({"data-loading":!0});try{await Ot(v),location.reload()}catch(x){alert(x.message)}finally{f({"data-loading":!1})}}},m=!!gt.github.logInUrl;return u("div",{class:J("flex flex-col p-4",X.tabset)},u("input",{type:"radio",name:"tabset",id:"tab1","data-tab-name":"direct",checked:!m}),u("input",{type:"radio",name:"tabset",id:"tab2","data-tab-name":"app",checked:m}),u("div",{class:J("flex gap-4 justify-center pb-4",X["tab-labels"],!m&&"hidden!")},u("label",{"data-tab-name":"direct",htmlFor:"tab1",class:"cursor-pointer"},"Direct"),u("label",{"data-tab-name":"app",htmlFor:"tab2",class:"cursor-pointer"},"App")),u("div",{class:J(X["tab-panels"])},u("div",{class:J("panel-direct",X["tab-panel"]),"data-tab-name":"direct"},u("div",{class:"flex flex-col gap-4"},u("div",null,"Enter your github token:"),u("p",{class:"text-red text-sm font-bold"},"Don't enter your Github token if you are not owner of this site !!!"),u("a",{href:"https://github.com/settings/personal-access-tokens/new",target:"_blank",class:"text-xs underline text-blue"},"learn here"),u("input",{ref:h,type:"text",placeholder:"paste your token here",class:"rounded border dark:border-gray px-2 py-1 text-sm bg-transparent",onInput:D,onChange:M}),u("button",{class:"buttoned bg-blue",ref:c,onClick:M},"confirm"))),u("div",{class:J("panel-app w-full h-full",X["tab-panel"]),"data-tab-name":"app"},u("div",{class:"w-full h-full flex justify-center p-2"},u("a",{href:gt.github.logInUrl,class:"buttoned bg-[#202328] text-white text-sm"},u("div",{class:"i-ri:github-fill"})," Login with Github")))))}),r=()=>{e.show()};return u("button",{class:"text-sm",onClick:r,title:"login"},u("div",{class:"i-ri:triangle-line"}))},fe=t=>{const e=()=>{Lt(),location.reload()},n=Mt(()=>u("div",{class:"w-full flex-1 flex flex-col gap-2 p-4 justify-between"},u("div",null,u("div",{class:"text-lg"},"Are you sure to log out?"),u("div",{class:"text-gray text-sm"},"Token will be clear, make sure you saved it elsewhere")),u("button",{class:"buttoned bg-red",onClick:e},"log out"))),c=()=>{n.show()},f=!!t.permissions?.push,h=location.pathname==="/",D=h||/^\/\d+$/.test(location.pathname),M=location.pathname.startsWith("/post"),m=location.pathname.replace("/post/","");return f&&h&&he(),u("div",{class:"flex gap-2"},f&&D&&u("a",{href:"/edit?new",class:"text-button","aria-label":"create new post"},u("div",{class:"i-ri:add-large-line"})),f&&M&&u("a",{href:`/edit?path=${m}`,class:"text-button","aria-label":"edit current post"},u("div",{class:"i-ri:quill-pen-fill"})),u("div",{class:"w-6 h-6 rounded-full cursor-pointer",onClick:c},u("img",{src:t.avatar,alt:"",class:"rounded-full"})))},de=()=>(()=>{const e=kt();return e?fe(e):le()})(),pe=t=>{const e=document.querySelector(t);e&&e.appendChild(de())},he=async()=>{const e=(await te()).filter(n=>n.draft),r=document.querySelector(".content");e.forEach(n=>{const c=u(zt,null,u("div",{"data-page-draft":"verified",class:"pt-8 pb-2"},u("a",{href:`/post/${n.id}`,class:"px-4 pb-4 flex justify-between items-center group"},u("div",{class:"flex flex-col"},u("h1",{class:"page-title w-[fit-content] text-lg transition-all font-semibold group-hover:underline"},n.title),u("p",{class:"text-text text-opacity-60 text-sm"},n.intro)),n.cover&&u("img",{class:"w-16 h-16 rounded object-cover",src:n.cover.src,alt:n.cover.alt})),u("div",{class:"flex pt-2 gap-2 px-4"},n.tags.map(f=>u("a",{href:`/tag/${encodeURIComponent(f)}`,class:"text-sm text-gray hover:text-black"},"#",f))),u("div",{"data-acc-time":n.createTime,class:"text-end text-xs text-gray"},ce(n.createTime))),u("hr",null));r?.insertBefore(c,r.firstChild)})};pe("#auth");const pt=document.getElementById("back-to-top");function Ct(){window.scrollY>300?pt.classList.add("visible"):pt.classList.remove("visible")}function me(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",Ct);pt.addEventListener("click",me);Ct();export{zt as F,It as a,J as b,u as c,Mt as d,te as g,Kt as u};
